let fs,resolve,rejects;_b1f‍.x([["getAllCities",()=>getAllCities],["cities",()=>cities],["getCityName",()=>getCityName]]);_b1f‍.w("fs",[["default",["fs"],function(v){fs=v}]]);_b1f‍.w("dns",[["resolve",["resolve"],function(v){resolve=v}]]);_b1f‍.w("assert",[["rejects",["rejects"],function(v){rejects=v}]]);



let allData;

       const getAllCities = countryCode => {
    let list = [];
    return new Promise((resolve, reject) => {
        for (const item of allData) {
            if(item.country === countryCode){
                list.push(item);
            }
        }
        resolve(list);
    })
}
       const cities =  [
    {
        name : 'esfahan',
        code : 418863
    },
    {
        name : 'tehran',
        code : 112931
    }
]

       const getCityName= (cityCode) => {
    for (const city of cities) {
        if(city.code === cityCode) return city.name;
    }
    return undefined;
}

function readFile(){
    let temp = "";
    fs.readFile('./datas/city.json', (err, data) => {
        if(err){
            _b1f‍.g.console.log(err);
        }
        allData = JSON.parse(data); 
    });

}

readFile();
